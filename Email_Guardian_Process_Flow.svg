<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="500" viewBox="0 0 1000 500">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#333"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1000" height="500" fill="#f8f9fa"/>

  <!-- Title -->
  <text x="500" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#2c3e50">Email Guardian - Process Flow</text>

  <!-- Row 1: Upload and Processing -->
  <g>
    <rect x="50" y="70" width="120" height="60" rx="5" fill="#3498db" stroke="#2980b9"/>
    <text x="110" y="95" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">CSV Upload</text>
    <text x="110" y="110" text-anchor="middle" font-family="Arial" font-size="10" fill="white">File Processing</text>

    <rect x="220" y="70" width="120" height="60" rx="5" fill="#27ae60" stroke="#229954"/>
    <text x="280" y="95" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">Data Validation</text>
    <text x="280" y="110" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Column Mapping</text>

    <rect x="390" y="70" width="120" height="60" rx="5" fill="#f39c12" stroke="#e67e22"/>
    <text x="450" y="95" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">Chunked Process</text>
    <text x="450" y="110" text-anchor="middle" font-family="Arial" font-size="10" fill="white">1000 Records/Batch</text>

    <rect x="560" y="70" width="120" height="60" rx="5" fill="#9b59b6" stroke="#8e44ad"/>
    <text x="620" y="95" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">Dashboard</text>
    <text x="620" y="110" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Real-time Stats</text>
  </g>

  <!-- Row 2: Analysis -->
  <g>
    <rect x="50" y="170" width="120" height="60" rx="5" fill="#e74c3c" stroke="#c0392b"/>
    <text x="110" y="195" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">Rule Engine</text>
    <text x="110" y="210" text-anchor="middle" font-family="Arial" font-size="10" fill="white">AND/OR Logic</text>

    <rect x="220" y="170" width="120" height="60" rx="5" fill="#16a085" stroke="#138d75"/>
    <text x="280" y="195" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">Whitelist Filter</text>
    <text x="280" y="210" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Domain Trust</text>

    <rect x="390" y="170" width="120" height="60" rx="5" fill="#34495e" stroke="#2c3e50"/>
    <text x="450" y="195" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">ML Analysis</text>
    <text x="450" y="210" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Isolation Forest</text>

    <rect x="560" y="170" width="120" height="60" rx="5" fill="#8e44ad" stroke="#7d3c98"/>
    <text x="620" y="195" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">Case Generation</text>
    <text x="620" y="210" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Risk Scoring</text>
  </g>

  <!-- Row 3: Management -->
  <g>
    <rect x="50" y="270" width="120" height="60" rx="5" fill="#d35400" stroke="#ba4a00"/>
    <text x="110" y="295" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">Case Management</text>
    <text x="110" y="310" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Status Updates</text>

    <rect x="220" y="270" width="120" height="60" rx="5" fill="#2e86ab" stroke="#1f5f8b"/>
    <text x="280" y="295" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">Sender Analysis</text>
    <text x="280" y="310" text-anchor="middle" font-family="Arial" font-size="10" fill="white">Behavior Patterns</text>

    <rect x="390" y="270" width="120" height="60" rx="5" fill="#7f8c8d" stroke="#5d6d7e"/>
    <text x="450" y="295" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">Admin Panel</text>
    <text x="450" y="310" text-anchor="middle" font-family="Arial" font-size="10" fill="white">System Config</text>

    <rect x="560" y="270" width="120" height="60" rx="5" fill="#566573" stroke="#34495e"/>
    <text x="620" y="295" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="white">Data Storage</text>
    <text x="620" y="310" text-anchor="middle" font-family="Arial" font-size="10" fill="white">SQLite Database</text>
  </g>

  <!-- Horizontal Flow Arrows -->
  <line x1="170" y1="100" x2="210" y2="100" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="340" y1="100" x2="380" y2="100" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="510" y1="100" x2="550" y2="100" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="170" y1="200" x2="210" y2="200" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="340" y1="200" x2="380" y2="200" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="510" y1="200" x2="550" y2="200" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="170" y1="300" x2="210" y2="300" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="340" y1="300" x2="380" y2="300" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="510" y1="300" x2="550" y2="300" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Vertical Flow Arrows -->
  <line x1="450" y1="130" x2="450" y2="140" stroke="#666" stroke-width="1"/>
  <line x1="450" y1="140" x2="110" y2="140" stroke="#666" stroke-width="1" stroke-dasharray="3,2"/>
  <line x1="110" y1="140" x2="110" y2="160" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <line x1="620" y1="230" x2="620" y2="240" stroke="#666" stroke-width="1"/>
  <line x1="620" y1="240" x2="110" y2="240" stroke="#666" stroke-width="1" stroke-dasharray="3,2"/>
  <line x1="110" y1="240" x2="110" y2="260" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Features Box -->
  <rect x="730" y="70" width="250" height="200" rx="5" fill="#ecf0f1" stroke="#bdc3c7"/>
  <text x="855" y="90" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#2c3e50">Current Features:</text>

  <text x="740" y="110" font-family="Arial" font-size="10" fill="#2c3e50">• CSV Upload &amp; Chunked Processing</text>
  <text x="740" y="125" font-family="Arial" font-size="10" fill="#2c3e50">• Data Validation &amp; Column Mapping</text>
  <text x="740" y="140" font-family="Arial" font-size="10" fill="#2c3e50">• Rule Engine (AND/OR Logic)</text>
  <text x="740" y="155" font-family="Arial" font-size="10" fill="#2c3e50">• Domain Whitelist Management</text>
  <text x="740" y="170" font-family="Arial" font-size="10" fill="#2c3e50">• ML Anomaly Detection</text>
  <text x="740" y="185" font-family="Arial" font-size="10" fill="#2c3e50">• Case Management System</text>
  <text x="740" y="200" font-family="Arial" font-size="10" fill="#2c3e50">• Sender Analysis Dashboard</text>
  <text x="740" y="215" font-family="Arial" font-size="10" fill="#2c3e50">• Admin Panel &amp; Configuration</text>
  <text x="740" y="230" font-family="Arial" font-size="10" fill="#2c3e50">• SQLite Database Storage</text>
  <text x="740" y="250" font-family="Arial" font-size="10" font-weight="bold" fill="#e74c3c">• Real-time Processing: 1000 rec/batch</text>

  <!-- Data Flow Summary -->
  <rect x="50" y="370" width="630" height="40" rx="5" fill="#fff3cd" stroke="#ffeaa7"/>
  <text x="365" y="385" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#856404">Data Flow:</text>
  <text x="365" y="400" text-anchor="middle" font-family="Arial" font-size="10" fill="#856404">Upload → Validate → Process → Rules → Whitelist → ML → Cases → Management</text>

  <!-- Performance Info -->
  <rect x="50" y="430" width="630" height="50" rx="5" fill="#d1ecf1" stroke="#b6d4da"/>
  <text x="365" y="445" text-anchor="middle" font-family="Arial" font-size="11" font-weight="bold" fill="#0c5460">Performance:</text>
  <text x="365" y="460" text-anchor="middle" font-family="Arial" font-size="10" fill="#0c5460">Fast Mode: 60-80% speed improvement | Memory Efficient: 1000 records/batch</text>
  <text x="365" y="470" text-anchor="middle" font-family="Arial" font-size="10" fill="#0c5460">Real-time Updates | SQLite Database | Gunicorn Deployment</text>
</svg>